const jsrsasign = require('./jsrsasign.js')

 function getSign(str) {
//生产
  //  let privateKey = 'MIICdQIBADANBgkqhkiG9w0BAQEFAASCAl8wggJbAgEAAoGBAK8GvHqp9tNJFrVI9l/xW6PkZ1Gz/u2YdrnmA5Z3dKO0m33+1gNfe9b6PTua6eiJN5d965+d1j/jYoJYakY1iOfXRNcA3I1ZnBxqPCGGYiV1xG2bX1hm9DM3jEa5pvW8Wd4iCiXUGPPqS/FpcsT7al2LMna4FQ2Oc4PFPm6OzflfAgMBAAECgYAwUT++7STCdy7ZpOa+3bZarDcJixMZLDm6YBElfJyqhLVYNv2FuNpLIpG83qssEpVSMOTXD4+R24faS+Yqs6SzRuiwY5aZ5Ocz16gYUm51MpvNJjpMega4nPZzQ1lvZ7XwOBrF4TzKTVtilVSkr70zqGJG6LQqwSWhZiRGhuavYQJBAN6tUB8SltTvHF3aObAXv5VGjYWja5PxJsC6Wxz3GEQAEBJpGafX0L1GzsVODnXy9xtPbB9vQN6diNIGn7FiRuUCQQDJN/CpqAnwXornQQWEIBETXFCwfDZXsVaOt+GgBDdVheWiWXpCSl6htF5X+KZikwd/QS0xbE1RtIzsdX3+6RbzAkAFCfD1Mwt8uAhxSz3g8TihnR4YtxD5IQzacZ0cM6814rZ6ZCxzctvDXLXTGygSnTPgR1TQBUl3gCMXdZTpg6rNAkBI0xUn4ehO9XiiP5cmfZCQiD2v0hS84jLojkZ7ams4abB1dJrZ+R6MucHXZueZD4uME+OuWnsVUhoazl8ebe/fAkAEjfhElucAlNIctcz87DmFEj2T9XxJDOewMdoNCVyhSr6M4fDL8J/pdYssrRJ6spvDDxk6s8/e0fPzVhpqTNtV';
   //测试
   let privateKey = 'MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCZelxCvUA18U5C2lii93Uxcw1jACA24uWQkHg32bU8GjmMwHLs/jva3fhzJHeTFcMi1ZvR2TP7q5+58I/y1Qkq/BCxqEbMZeB0RRkTLVi7VE4ialfoXJPTjMH6rnpCQPfxmlCyQE+s7qs4S+CyGIGVl84UbuIhR1f6gxcMV56k4phLEV2SmUGTTqEerRf37XRE2HCtQcw7zXaZam3IhRUnFQT5mO8NXROEQZJY0M78m8yUMWnq+F3VuzRqEVA6BYhUO2dwQIgYhiWfKkPQ/gN5DRcu8RzcnecqsOkUqkM/a8vdRgSxxODn11Tl9rAjL0lND+uac31N2FPiO1cvHNrlAgMBAAECggEAdZk0KE8qbCrBdKgpUnWZ7pHhqAHorSWeEO8hrmm6XJsbjaXIaZ9D7ag3PsKqfKEoLADQrDJpimUutiKFqeNiavVJNVdjKCrHmU94ryEH5EHsvKIPSZPmESrBV3tpYmq1kQJU4sA0TKVzvGcnfE8au6zd0vpDeoxX9TOM7YAVpvBmFOaYkYSkFn/iQqitfHiBaC02/THj+m3wmk4aq5e2zscv6sQ/PPoAbSW/UZvGo2BnXQON0JJkIrRCzd7ovkzQNUVFc41P60DTPT6DoLUmMiDCB6DvXxddTroG5lf9MDOyNOoxui9I81cNhiB8dgs2unlMqZp9lB3cpNvFmMy9AQKBgQDlQyonhP6lRwqwr/UvBIylKbFEIZzDywP+G51r+V30flTE+eyvftox5G4qafhwcYUscrdiYir3yI/KAxEIfi3ZsacBitilsQ6bkbfqGFwqqyw/Xrp//60iSADW0i30m8H/UzEFlzB3CHER7qLDZL0sWsXy9ottcn4Zq1USlMcp7QKBgQCrYJWIuKpdg/8iDa3BCbJ4EebxmcBaJjlyk5YBT6aGIxJlLwBqdHwf3WC9a002s6xUNFg++rXiFv8YqSTJ7g9RoynbWWvx8J5+2MksvZqXzGpYR8a/cpUv3wVH43cHL2JVXa/Rm4hyqyfGwMTsbNbIsuknpjHYEloux/cj1IV12QKBgGzqtrklrtCYapS8U3At6h+BKi0jBtXhuhjbx7MHOkKwTddyoKZTTpfLXScbRyMsW0ddjI/Z8W3cQ6uGP25Ye7Hje2L5Mqms7zKrTMOTJR5ESfYlK9cpgXg62uMz4Q9HfCevvydXx3eVdBo/0+WeE11iFo6x4FVzwkKxqe307pWVAoGAWsdXjkubWtvfmo86WcWkNrvs5E94N4iF565LyDgD0ovjY5upEbrQQSTH6K5dATvdbeEoWXv+OlvKFqsKJLiofqr6MgnFByxZGIIG1l8882nBby/eFG1Cn0/4gSL5WuH7qZJt3o8PkQYelMZpyX7BqyAyJuF/B6B5Csy7mcwqQckCgYAbQsABo5Fj0WCWv8jot30diwEE6wqTmjHE1ifJNfiF/G40kDiNb+aJswYF6b0JHFAxuRK0Dna/QG6rm70DN1sUWZdQGlYnM3ffR48YVmlCkutBmcgKTT1xahf3ZGSDuUHVW7AfuYeT0s5B8oGSXpOP0RFH8IczS7TRGGM0Nl+vIQ==';
	let NprivateKey = '-----BEGIN PRIVATE KEY-----' + privateKey + '-----END PRIVATE KEY-----';

	var key = jsrsasign.KEYUTIL.getKey(NprivateKey);
	// 创建 Signature 对象
	let signature = new jsrsasign.KJUR.crypto.Signature({
		alg: "SHA1withRSA"
	});
	// 传入key实例, 初始化signature实例
	signature.init(key);
	// 传入待签明文
	signature.updateString(str);
	// 签名, 得到16进制字符结果
	let a = signature.sign();
	let sign = jsrsasign.hextob64(a);
	// sign = hextob64u(sign);
	return sign;
}
module.exports = {
  getSign
};